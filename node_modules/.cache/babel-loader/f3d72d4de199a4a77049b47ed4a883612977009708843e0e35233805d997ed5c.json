{"ast":null,"code":"import _regeneratorRuntime from\"/Users/harshbhagtani/Desktop/personal/Jarvis/Jarvis-chrome-extention/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/harshbhagtani/Desktop/personal/Jarvis/Jarvis-chrome-extention/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/harshbhagtani/Desktop/personal/Jarvis/Jarvis-chrome-extention/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/*global chrome*/import{useEffect,useState}from\"react\";import\"./App.css\";import InputForm from\"./Components/InputForm\";import MainPage from\"./Components/MainPage\";import{getDataFromLocalStorage}from\"./utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(getDataFromLocalStorage(\"openai_key\")),_useState2=_slicedToArray(_useState,2),apikey=_useState2[0],setApiKey=_useState2[1];// Send a message to the background script\nvar openSideBar=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$chrome$tabs$qu,_yield$chrome$tabs$qu2,tab,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return chrome.tabs.query({active:true,currentWindow:true});case 2:_yield$chrome$tabs$qu=_context.sent;_yield$chrome$tabs$qu2=_slicedToArray(_yield$chrome$tabs$qu,1);tab=_yield$chrome$tabs$qu2[0];console.log(tab);_context.next=8;return chrome.runtime.sendMessage({tabId:tab.id,key:apikey});case 8:response=_context.sent;// do something with response here, not outside the function\nconsole.log(response);// do something with response here, not outside the function\n// console.log(response);\ncase 10:case\"end\":return _context.stop();}},_callee);}));return function openSideBar(){return _ref.apply(this,arguments);};}();useEffect(function(){if(apikey)openSideBar();},[apikey]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{children:\"Jarvis your Ai assistant\"}),!apikey?/*#__PURE__*/_jsx(InputForm,{setApiKey:setApiKey}):/*#__PURE__*/_jsx(MainPage,{apikey:apikey,setApiKey:setApiKey})]});}export default App;","map":{"version":3,"names":["useEffect","useState","InputForm","MainPage","getDataFromLocalStorage","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","apikey","setApiKey","openSideBar","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$chrome$tabs$qu","_yield$chrome$tabs$qu2","tab","response","wrap","_callee$","_context","prev","next","chrome","tabs","query","active","currentWindow","sent","console","log","runtime","sendMessage","tabId","id","key","stop","apply","arguments","className","children"],"sources":["/Users/harshbhagtani/Desktop/personal/Jarvis/Jarvis-chrome-extention/src/App.tsx"],"sourcesContent":["/*global chrome*/\n\nimport { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport InputForm from \"./Components/InputForm\";\nimport MainPage from \"./Components/MainPage\";\nimport { getDataFromLocalStorage } from \"./utils\";\n\nfunction App() {\n  const [apikey, setApiKey] = useState(getDataFromLocalStorage(\"openai_key\"));\n\n  // Send a message to the background script\n\n  const openSideBar = async () => {\n    const [tab] = await chrome.tabs.query({\n      active: true,\n      currentWindow: true\n    });\n    console.log(tab);\n    const response = await chrome.runtime.sendMessage({\n      tabId: tab.id,\n      key: apikey\n    });\n    // do something with response here, not outside the function\n    console.log(response);\n\n    // do something with response here, not outside the function\n    // console.log(response);\n  };\n\n  useEffect(() => {\n    if (apikey) openSideBar();\n  }, [apikey]);\n\n  return (\n    <div className=\"App\">\n      <header>Jarvis your Ai assistant</header>\n      {!apikey ? (\n        <InputForm setApiKey={setApiKey} />\n      ) : (\n        <MainPage apikey={apikey} setApiKey={setApiKey} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"8dAAA,iBAEA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,WAAW,CAClB,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,OAASC,uBAAuB,KAAQ,SAAS,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,IAAAC,SAAA,CAA4BT,QAAQ,CAACG,uBAAuB,CAAC,YAAY,CAAC,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAApEG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IAExB;AAEA,GAAM,CAAAI,WAAW,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,qBAAA,CAAAC,sBAAA,CAAAC,GAAA,CAAAC,QAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACE,CAAAC,MAAM,CAACC,IAAI,CAACC,KAAK,CAAC,CACpCC,MAAM,CAAE,IAAI,CACZC,aAAa,CAAE,IACjB,CAAC,CAAC,QAAAb,qBAAA,CAAAM,QAAA,CAAAQ,IAAA,CAAAb,sBAAA,CAAAV,cAAA,CAAAS,qBAAA,IAHKE,GAAG,CAAAD,sBAAA,IAIVc,OAAO,CAACC,GAAG,CAACd,GAAG,CAAC,CAACI,QAAA,CAAAE,IAAA,SACM,CAAAC,MAAM,CAACQ,OAAO,CAACC,WAAW,CAAC,CAChDC,KAAK,CAAEjB,GAAG,CAACkB,EAAE,CACbC,GAAG,CAAE7B,MACP,CAAC,CAAC,QAHIW,QAAQ,CAAAG,QAAA,CAAAQ,IAAA,CAId;AACAC,OAAO,CAACC,GAAG,CAACb,QAAQ,CAAC,CAErB;AACA;AAAA,yBAAAG,QAAA,CAAAgB,IAAA,MAAAvB,OAAA,GACD,kBAfK,CAAAL,WAAWA,CAAA,SAAAC,IAAA,CAAA4B,KAAA,MAAAC,SAAA,OAehB,CAED7C,SAAS,CAAC,UAAM,CACd,GAAIa,MAAM,CAAEE,WAAW,CAAC,CAAC,CAC3B,CAAC,CAAE,CAACF,MAAM,CAAC,CAAC,CAEZ,mBACEL,KAAA,QAAKsC,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBzC,IAAA,WAAAyC,QAAA,CAAQ,0BAAwB,CAAQ,CAAC,CACxC,CAAClC,MAAM,cACNP,IAAA,CAACJ,SAAS,EAACY,SAAS,CAAEA,SAAU,CAAE,CAAC,cAEnCR,IAAA,CAACH,QAAQ,EAACU,MAAM,CAAEA,MAAO,CAACC,SAAS,CAAEA,SAAU,CAAE,CAClD,EACE,CAAC,CAEV,CAEA,cAAe,CAAAL,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}